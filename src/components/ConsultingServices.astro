---
// ConsultingServices.astro
import Icon from "./Icon.astro";
---

<script>
  // Add animation on scroll using Intersection Observer
  document.addEventListener("DOMContentLoaded", () => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            // Add a staggered delay based on the index
            setTimeout(() => {
              entry.target.classList.add("animate-in");
            }, index * 100); // 100ms stagger between each card
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1 }
    );

    // Observe all service cards
    document.querySelectorAll(".service-card").forEach((card) => {
      observer.observe(card);
    });
  });
</script>

<div class="services-grid">
  <div class="service-card">
    <div class="service-icon">
      <Icon name="strategy" size={32} />
    </div>
    <h3>IT Strategy & Roadmapping</h3>
    <p>
      With our expertise in both business and technology, our team helps align
      technology investments to your business strategy and drive top line growth
      while maximizing value as you bring your strategy to life.
    </p>
  </div>

  <div class="service-card">
    <div class="service-icon">
      <Icon name="data-governance" size={32} />
    </div>
    <h3>Data Strategy & Governance</h3>
    <p>
      Develop a flexible framework to improve the effectiveness of data assets
      without disrupting your business operations.
    </p>
  </div>

  <!-- <div class="service-card">
    <div class="service-icon">
      <Icon name="vendor" size={32} />
    </div>
    <h3>Vendor Advisory & Resource Planning</h3>
    <p>Informed, independent, strategically planned solutions to your unique challenges using the best of breed tools and vendors.</p>
  </div> -->

  <div class="service-card">
    <div class="service-icon">
      <Icon name="ai-ml" size={32} />
    </div>
    <h3>AI/ML Ops Planning</h3>
    <p>
      Enhance DataOps practices by combining Business Intelligence and Machine
      Learning Operations with purpose-specific AI solutions. Optimize
      decision-making, intelligent automation, and proactive insights.
    </p>
  </div>

  <div class="service-card">
    <div class="service-icon">
      <Icon name="data-unification" size={32} />
    </div>
    <h3>Data Unification & Activation</h3>
    <p>
      Unify and activate data from disparate sources to derive insights, inform
      decisions, and drive actions.
    </p>
  </div>

  <div class="service-card">
    <div class="service-icon">
      <Icon name="workshop" size={32} />
    </div>
    <h3>Strategy Alignment Workshops</h3>
    <p>
      Leverage stakeholder interviews and appreciative inquiry to clarify goals
      and build a strategic roadmap for the business.
    </p>
  </div>

  <div class="service-card">
    <div class="service-icon">
      <Icon name="digital-transformation" size={32} />
    </div>
    <h3>Digital Transformation</h3>
    <p>
      Migrate from legacy systems and integrate new platforms to improve
      efficiency and productivity.
    </p>
  </div>

  <div class="service-card">
    <div class="service-icon">
      <Icon name="web-dev" size={32} />
    </div>
    <h3>Web Development Services</h3>
    <p>
      Modernize and enhance your website with responsive design, user-friendly
      interfaces, and fast performance.
    </p>
  </div>

  <div class="service-card">
    <div class="service-icon">
      <Icon name="data-management" size={32} />
    </div>
    <h3>Data Management & Operations</h3>
    <p>
      Optimize data operations with observability and efficient workflows to
      support data-driven decision-making.
    </p>
  </div>

  <div class="service-card">
    <div class="service-icon">
      <Icon name="marketing" size={32} />
    </div>
    <h3>Digital Marketing</h3>
    <p>
      Develop and execute marketing campaigns to improve brand awareness and
      drive traffic to your website.
    </p>
  </div>
</div>

<style>
  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .service-card {
    background-color: #f9f9f9;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    position: relative;
    border: 1px solid transparent;
    opacity: 0;
    transform: translateY(20px);
    overflow: hidden;
  }

  /* Animation class added by Intersection Observer */
  .service-card.animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Gradient border effect on hover */
  .service-card::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 8px;
    padding: 2px;
    background: linear-gradient(
      135deg,
      var(--color-primary),
      var(--color-accent)
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .service-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(
      135deg,
      var(--color-primary),
      var(--color-accent)
    );
    color: white;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    margin-bottom: 1rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
    position: relative;
    z-index: 1;
  }

  .service-card:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
    background-color: #ffffff;
  }

  .service-card:hover::before {
    opacity: 1;
  }

  /* Add a subtle glow effect to the icon on hover */
  .service-card:hover .service-icon {
    transform: scale(1.1);
    box-shadow: 0 0 15px rgba(155, 81, 224, 0.5);
  }

  .service-card h3 {
    color: var(--color-primary);
    margin-bottom: 0.75rem;
    font-size: 1.2rem;
  }

  .service-card p {
    font-size: 0.95rem;
    line-height: 1.5;
  }

  @media (max-width: 768px) {
    .services-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
